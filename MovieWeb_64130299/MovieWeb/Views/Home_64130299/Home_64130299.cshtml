﻿@model IEnumerable<MovieWeb.Models.Movie_64130299>

@{
    Layout = "~/Views/Shared/_Layout641302999.cshtml";
    var username = Session["Username"] as string;
}
<div>
</div>
<div class="relative bg-black">
    <!-- Hero Banner -->
    <div class="relative h-96">
        <img src="https://phim.nguonc.com/public/images/Film/yt5LbZJkZdnSQiLo3t892l7Rhr7.jpg" alt="Hero Banner" class="absolute inset-0 w-full h-full object-cover" />
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="relative flex flex-col justify-center items-center h-full text-center text-white">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Chào mừng đến với Xem Phim</h1>

            <!-- Personalized Greeting -->
            @if (!string.IsNullOrEmpty(username))
            {
                <p class="text-lg md:text-xl mb-6">Chào mừng đến với bộ xem, @username!</p>
            }
            else
            {
                <p class="text-lg md:text-xl mb-6">Xem các bộ phim mới nhất và nổi bật ngay hôm nay!</p>
            }

            <a href="#" class="bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded-md">Xem ngay</a>
        </div>
    </div>

    <!-- Carousel Danh Sách Phim -->
    <div class="py-8">
        <h2 class="text-3xl font-semibold text-white mb-8 text-center">Phim mới cập nhật</h2>
        <div class="relative flex items-center">
            <!-- Nút điều khiển bên trái -->
            <button id="prev-movie" class="absolute left-0 z-10 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-3 hover:bg-opacity-75 transition duration-300 ease-in-out shadow-lg">
                &#10094;
            </button>

            <!-- Carousel chứa các phim -->
            <div id="movie-carousel" class="flex overflow-hidden space-x-6 px-4 sm:px-8 md:px-0">
                @foreach (var movie in Model)
                {
                    <div class="min-w-[240px] max-w-[300px] group transform transition duration-500 ease-in-out hover:scale-105">
                        <a href="@Url.Action("Details_64130299", "Home_64130299", new { id = movie.MovieId })">
                            <!-- Thêm link đến trang chi tiết phim -->
                            <img src="@movie.PosterUrl" class="rounded-lg w-full h-60 object-cover shadow-lg group-hover:opacity-80 transition-opacity duration-300" alt="@movie.Title">
                            <h5 class="text-lg font-semibold text-white mt-4 break-words whitespace-normal group-hover:text-orange-500 transition-colors duration-300">@movie.Title</h5>
                        </a>
                    </div>
                }
            </div>

            <!-- Nút điều khiển bên phải -->
            <button id="next-movie" class="absolute right-0 z-10 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-3 hover:bg-opacity-75 transition duration-300 ease-in-out shadow-lg">
                &#10095;
            </button>
        </div>
    </div>
</div>

<script>
    const movieCarousel = document.getElementById('movie-carousel');
    const nextMovieButton = document.getElementById('next-movie');
    const prevMovieButton = document.getElementById('prev-movie');

    // Kích thước của mỗi phim
    const movieItemWidth = 160; // Width của mỗi item (có thể điều chỉnh)

    nextMovieButton.addEventListener('click', () => {
        movieCarousel.scrollBy({ left: movieItemWidth * 2, behavior: 'smooth' }); // Cuộn qua 2 phim mỗi lần
    });

    prevMovieButton.addEventListener('click', () => {
        movieCarousel.scrollBy({ left: -movieItemWidth * 2, behavior: 'smooth' }); // Cuộn ngược lại 2 phim mỗi lần
    });

    const genreCarousel = document.getElementById('carousel-genre');
    const nextGenreButton = document.getElementById('next-genre');
    const prevGenreButton = document.getElementById('prev-genre');

    // Kích thước mỗi thể loại
    const genreItemWidth = 220; // Width của mỗi genre item (có thể điều chỉnh)

    nextGenreButton.addEventListener('click', () => {
        genreCarousel.scrollBy({ left: genreItemWidth * 1, behavior: 'smooth' }); // Cuộn qua 1 thể loại mỗi lần
    });

    prevGenreButton.addEventListener('click', () => {
        genreCarousel.scrollBy({ left: -genreItemWidth * 1, behavior: 'smooth' }); // Cuộn ngược lại 1 thể loại mỗi lần
    });
</script>