@model MovieWeb.Models.MemberSubscription_64130299

@{
    Layout = "~/Views/Shared/_Layout641302999.cshtml";
}

<div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 mt-10">
    <h2 class="text-3xl font-semibold text-gray-800 text-center mb-6">Xác Nhận Thông Tin Đăng Ký</h2>

    <table class="min-w-full bg-white shadow-md rounded-lg">
        <thead>
            <tr class="bg-gray-100">
                <th class="py-2 px-4 text-left text-sm font-semibold text-gray-600">Thông tin</th>
                <th class="py-2 px-4 text-left text-sm font-semibold text-gray-600">Chi tiết</th>
            </tr>
        </thead>
        <tbody>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Mã đăng ký</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Model.SubscriptionId</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Tên người dùng</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Session["UserName"]</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Ngày bắt đầu</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Model.StartDate.ToString("yyyy-MM-dd HH:mm:ss")</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Ngày hết hạn</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Model.ExpiryDate.ToString("yyyy-MM-dd HH:mm:ss")</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Cấp độ quyền</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Model.AccessLevel</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Phương thức thanh toán</td>
                <td class="py-2 px-4 text-sm text-gray-800">@Model.PaymentMethod</td>
            </tr>
            <tr class="border-b">
                <td class="py-2 px-4 text-sm text-gray-600">Số tiền thanh toán</td>
                <td class="py-2 px-4 text-sm text-gray-800">@string.Format(new System.Globalization.CultureInfo("vi-VN"), "{0:C0}", Model.AmountPaid)</td>
            </tr>
        </tbody>
    </table>

    <div class="mt-6 flex justify-center space-x-4">
        @using (Html.BeginForm("ConfirmSubscription", "MemberSubscription_64130299", FormMethod.Post))
        {
            @Html.HiddenFor(model => model.SubscriptionId)
            @Html.Hidden("UserId", Session["UserId"]) <!-- Lấy UserId từ session và ẩn trong form -->
            @Html.HiddenFor(model => model.PlanId)
            @Html.HiddenFor(model => model.StartDate)
            @Html.HiddenFor(model => model.ExpiryDate)
            @Html.HiddenFor(model => model.AccessLevel)
            @Html.HiddenFor(model => model.PaymentMethod)
            @Html.HiddenFor(model => model.AmountPaid)
            @Html.HiddenFor(model => model.Status)

            <button type="submit" class="bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400">
                Xác nhận
            </button>
        }

        <a href="@Url.Action("Create")" class="bg-red-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400">
            Hủy
        </a>
    </div>
</div>
